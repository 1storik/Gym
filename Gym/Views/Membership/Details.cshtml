@model Gym.VM.MembershipDetailVM
@using Gym.Utility

<div class="post-container">
    <div class="post-content">
        <div class="row">
            <div class="col-12 col-lg-4 p-1 text-center">
                <img src="@WC.ImagePathMember@Model.Membership.Image" width="100%" class="rounded" />
            </div>
            <div class="col-12 col-lg-8 p-1 d-flex flex-column">
                <div>
                    <h2 class="post-title">@Model.Membership.MembershipType</h2>
                    <div>@Model.Membership.ShortText</div>
                </div>
                <div class="d-block font-weight-bold mt-auto align-self-start">
                    <span class="d-block post-author">Coach:@Model.Membership.Coach.FirstName  @Model.Membership.Coach.LastName</span>
                    <span class="d-block post-date">Price: @Model.Membership.Price</span>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-2 mb-2">
        <a asp-controller="Membership" asp-action="Edit" asp-route-Id="@Model.Membership.Id" class="btn btn-primary mx-2">
            <i class="fas fa-edit"></i>
        </a>
        <a asp-controller="Membership" asp-action="Delete" asp-route-Id="@Model.Membership.Id" class="btn btn-danger mx-2">
            <i class="far fa-trash-alt"></i>
        </a>
    </div>
    <div class="main-text">
        @Html.Raw(Model.Membership.Text)
    </div>
    
    <h3 class="mt-3 mb-2">Subscriptions</h3>

    <div class="table-responsive" style="max-height: 200px; overflow-y: auto;">
        <table class="table table-bordered table-striped" style="width:100%">
            <thead>
            <tr>
                <th>Client Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Start Date</th>
                <th>End Date</th>
            </tr>
            </thead>
            <tbody>
                @if (Model.Subscriptions != null)
            {
                    @foreach (var subscription in Model.Subscriptions)
                {
                    <tr>
                        <td width="30%">@subscription.Client.FirstName @subscription.Client.LastName</td>
                        <td width="20%">@subscription.Client.Email</td>
                        <td width="20%">@subscription.Client.Phone</td>
                        <td width="15%">@subscription.StartDate.ToString("dd.MM.yyyy")</td>
                        <td width="15%">@subscription.EndDate.ToString("dd.MM.yyyy")</td>
                    </tr>
                }
            }
            </tbody>
        </table>
    </div>

</div>